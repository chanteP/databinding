<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="content-language" content="zh-CN" />
        
        <title>core test</title>
        
        <script src="../build/note.js"></script>
    </head>
    <body>
        <pre>
        <script type="text/javascript" style="display:block;">
        /* ######################################################################
        vm : {
            a : {
                b : {
                    c : {
                        data : this.d + this.e
                    },
                    d : 222,
                    e : 13
                }
            },
            s : 1 [3000, +]
        }
        */
        var core = note;

        var data = {
            a : {
                b : 1,
                c : 3,
                d : {
                    $get : function(vm){
                        return this.b + this.c + vm.data.accessor;
                    }
                }
            },
            accessor : {
                $value : 1,
                $set : function(val){
                    return Math.min(val, 5);
                }
            },
            $change : function(v, ov){
                console.log(JSON.stringify(v));
            }
        };

        data = core('data', data);

        (function(){
            data.accessor++;
            setTimeout(arguments.callee, 1000);
        })();

        </script>
        </pre>
    </body>
</html>