<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="content-language" content="zh-CN" />
        
        <title>core test</title>
        
        <script src="../build/note.js"></script>
    </head>
    <body>
        <pre>
        <script type="text/javascript" style="display:block;">
        var core = note;
        var data = {
            a : {
                b : 1,
                c : 3,
                d : {
                    $get : function(vm){
                        return this.b + this.c + vm.data.accessor;
                    }
                }
            },
            accessor : {
                $value : 1,
                $set : function(val){
                    return Math.min(val, 5);
                }
            },
            $change : function(v, ov){
                console.log(JSON.stringify(v));
            }
        };
        var v = core('data', data);

        (function(){
            data.accessor++;
            setTimeout(arguments.callee, 1000);
        })();

        </script>
        </pre>
    </body>
</html>