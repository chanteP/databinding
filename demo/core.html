<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="content-language" content="zh-CN" />
        
        <title>core test</title>
        
        <script src="../build/databind.js"></script>
        <!-- // <script src="./jquery.hammer.min.js"></script> -->
    </head>
    <body>
    <!-- mode config -->
        <div id="wrapper">
            mode ? accessor : vmObject
            <select id="slt">
                <option value="0">0</option>
                <option value="1">1</option>
            </select>
        </div>
        <script>
        var core = DataBind;

        var data = {
            a : {
                b : 1,
                c : 3,
                d : {
                    $get : function(vm){
                        debugger
                        return this.b + this.c + vm.data.accessor;
                    }
                }
            },
            accessor : {
                $value : 1,
                $set : function(val){
                    return Math.min(val, 5);
                }
            },
            $change : function(v, ov){
                console.log(JSON.stringify(v));
            }
        };

        data = new core('data', data);

        (function(){
            data.accessor++;
            setTimeout(arguments.callee, 1000);
        })();
        </script>
        </pre>
    </body>
</html>