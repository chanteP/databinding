<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="content-language" content="zh-CN" />
        
        <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
        <meta content="yes" name="apple-mobile-web-app-capable" />
        <meta content="black" name="apple-mobile-web-app-status-bar-style" />
        <meta content="telephone=no" name="format-detection" />
        
        <title>expression</title>
        
        <!-- <link rel="shortcut icon" href="/favicon.ico" /> -->
        <!-- <link href='http://fonts.googleapis.com/css?family=Roboto:400,100' rel='stylesheet' type='text/css'> -->
        <script src="./zepto.min.js"></script>
        <script src="./jquery.hammer.min.js"></script>
        <script src="../build/databind.js"></script>
    </head>
    <body>
        {{<input id="expr" value=".length">}}
        <div><p>bind<input id="bindAcc" value="a.b.c.arr" /></p></div>
        <div><p id="rs"></p></div>
        <pre>
        <script style="display:block;">
        DataBind.config({
            mode : 1
        })
        var demo = new DataBind('a.b.c', {
            data : {
                $value:123,
                $set:function(value, o){
                    return value;
                },
                $get : function(vm){
                   return this.d + this.e + vm.s;
                }
            }, 
            d : 222,
            e : 13,
            arr : [1,2,3]
        });
        </script>
        </pre>
        <script type="text/javascript" >

        var exp = DataBind.expression;
        var vm = DataBind.root;

        expr.onkeyup = function(){
            rs.innerHTML = exp(this.value, DataBind.get(bindAcc.value), vm);
        }
        expr.onkeyup();
        // exp('abc + eee', 'a.b.c', vm);

        </script>
    </body>
</html>