!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c=function(a,b){if(1===arguments.length)return c.storage.hasOwnProperty(a)?c.storage[a]:void 0;if(a in c.storage)return c.storage[a].value=b,c.storage[a];if(!(this instanceof c))return new c(a,b);var e=a.split("."),f=e.pop(),g=""===a,h=g?null:e.join("."),i=g?null:c(h),j=g?null:i.value;this.name=f,this.nameNS=a,this.parent=j,this.parentNS=h,this.parentAcc=i,this.deps=[],this.value=b,this.oldValue=b,this.dirty=!1,this.mode=d.mode,this.status=this.READY,this.children=[],this.propagation=d.propagation,this.propagationType=[].concat(d.propagationType),g||(i.children.push(this.nameNS),this.parent[this.name]=this.value),c.storage[this.nameNS]=this};c.storage={},c.prototype.READY=0,c.prototype.INITED=1,c.parseProp=function(a,b){return a?b?b+"."+a:a:b},c.prototype.get=function(){return this.value},c.prototype.set=function(a,b,g){var h=this;if(this.value=a,this.value=this.get(),this.parent&&d.mode&&(this.parent[this.name]=a),b=this.dirty||b,b||(e.fire(this.nameNS,"set"),(g||a!==this.oldValue)&&e.fire(this.nameNS,"change")),this.oldValue=a,this.dirty=!1,a instanceof Array){var i=!1;"observe"in Object?Object.observe(a,function(){i||(i=!0,h.set(a,h.dirty,!0))}):(a.__proto__=f,a[f.bindMethodName]=function(){h.set(a,h.dirty,!0)})}else if(!d.mode&&a&&a.__proto__===Object.prototype)for(var j in a)a.hasOwnProperty(j)&&(childAcc=c(this.parseProp(j)),childAcc&&childAcc.bindProp());return a},c.prototype.bindProp=function(){if(!this.mode&&this.parent&&this.parent.__proto__===Object.prototype){var a=this.value,b=this;Object.defineProperty(this.parent,this.name,{set:function(a){return b.set(a)},get:function(){return b.get()}}),this.parent[this.name]=a}},c.prototype.parseProp=function(a){return a?this.nameNS?this.nameNS+"."+a:a:this.nameNS},c.destroy=c.prototype.destroy=function(a){var b=this instanceof c?this:c(a);b&&(b.children.forEach(c.destroy),delete b.parent[b.name],delete c.storage[b.nameNS])},b.exports=c;var d=a("./config"),e=a("./Observer"),f=a("./ArrayExtend")},{"./ArrayExtend":2,"./Observer":7,"./config":8}],2:[function(a,b){var c={},d=Array.prototype,e="arrayExtOb",f="pop, push, shift, unshift, reverse, sort, splice".split(", ");Object.defineProperty(c,e,{writable:!0,enumerable:!1}),f.forEach(function(a){c[a]=function(){var b=[].map.call(arguments,function(a){return a});d[a].apply(this,b),this[e]()}}),c.bindMethodName=e,c.__proto__=d,b.exports=c},{}],3:[function(a,b){var c=a("./kit"),d=a("./config"),e=a("./Accessor"),f=a("./Observer"),g={},h=c.isEmptyObject,i=(c.merge,{parseNS:function(a,b){return b=b||"",a+(void 0!==a&&""!==a&&""!==b?".":"")+b},parseDeps:function(a,b){for(var c,d=b.toString().replace(/^\s*\/\*[\s\S]*?\*\/\s*$/gm,"").replace(/^\s*\/\/.*$/gm,"").replace(/(this|vm)\.[\w\.]+(\(|\s*\=)/gm,"").replace(/\bthis\b/g,"vm."+a.parentNS),e=/\bvm\.([\w|\.]+)\b/g,g=[];c=e.exec(d);)c[1]&&g.push(c[1]);a.deps=g,g.forEach(function(b){f.add(b,a.nameNS,"change")})},descList:["get","set","change","propagation","dirty","value"],getDesc:function(a){var b,c={};return a&&a.__proto__===Object.prototype?(i.descList.forEach(function(d){c[d]=a["$"+d],delete a["$"+d]&&(b=!0)}),void 0===c.value&&(c.value=b&&h(a)?void 0:a)):c.value=a,c},defProp:function(a,b){a.set&&(b.set=function(c,d){return c=a.set.call(b.mode?b:b.parent,c,b.value),b.__proto__.set.call(b,c,d),c}),a.get&&(i.parseDeps(b,a.get),b.get=function(){return a.get.call(b.parent,g)}),a.change&&f.add(b.nameNS,a.change,"change"),a.dirty&&(b.dirty=!!a.dirty),a.propagation&&(b.propagation=!!propagation),b.dirty||b.set(b.value)},register:function(a,b){var c,d=i.getDesc(a);if(a=d.value,c=e(b)||new e(b,a),a&&a.__proto__===Object.prototype)for(var f in a)a.hasOwnProperty(f)&&i.register(a[f],c.parseProp(f));c.nameNS&&i.defProp(d,c),!c.mode&&c.bindProp()}}),j={},k=function(a,b){var c,f=a.split("."),g=b;for(""===a&&(f.length=0,c=b);f.length;)c={},c[f.pop()]=g,g=c;if(i.register(c,""),this.name=this._name=a,!d.mode){var h=e(a),k=h.value;return(null===k||void 0===k)&&(k={}),k.__proto__=Object.create(j,{_name:{value:a}}),k}};if(k.root=g,k.storage=e.storage,k.observe=f.add,k.unobserve=f.remove,k.fire=f.fire,k.destroy=e.destroy,k.setPropagation=function(a,b,c){var d=k.check(a);return d&&("boolean"==typeof b&&(d.propagation=b),c instanceof Array&&(d.propagationType=c)),this},k.init=function(){return new e("",k.root),k.init=function(){},k},k.parseProp=e.parseProp,k.check=function(a){return e(a)},k.checkListener=function(a,b){return f.check(a,b)},k.get=function(a){var b,c;return(b=/(.*)\[(\d+)\]$/.exec(a))&&(a=b[1],b=b[2]),c=e(a)?e(a).get():void 0,null!==b&&c instanceof Array?c[b]:c},k.set=function(a,b,c){return e(a)&&e(a).set(b,c),b},k.config=d.set,k.prototype.get=function(a){return k.get(i.parseNS(this._name,a))},k.prototype.set=function(a,b,c){return k.set(i.parseNS(this._name,a),b,c)},k.prototype.setPropagation=function(a,b){return k.setPropagation(i.parseNS(this._name,propNS),a,b)},k.prototype.checkListener=function(a,b){return k.checkListener(i.parseNS(this._name,a),b)},k.prototype.observe=function(a,b,c){return k.observe(i.parseNS(this._name,a),b,c)},k.prototype.unobserve=function(a,b,c){return k.unobserve(i.parseNS(this._name,a),b,c)},k.prototype.fire=function(a,b,c){return k.fire(i.parseNS(this._name,a),b,c)},k.prototype.destroy=function(){k.destroy(this._name)},"defineProperty"in Object)for(var l in k.prototype)k.prototype.hasOwnProperty(l)&&(Object.defineProperty(j,l,{enumerable:!1,writable:!0}),j[l]=k.prototype[l]);b.exports=k},{"./Accessor":1,"./Observer":7,"./config":8,"./kit":10}],4:[function(a){var b,c=a("./DataBind"),d=a("./Expression"),e=a("./config"),f=a("./kit"),g=new RegExp(e.expHead+"(.*?)"+e.expFoot,"m"),h=e.DOMPrefix||"vm-",i={model:h+"model",list:h+"list",bind:h+"bind",escape:h+"escape",toggle:h+"toggle"},j=/\[(\d+)\]$/,k="change",l=[],m=c.root,n=c.set,o=c.get,p=c.observe,q=c.unobserve,r=(c.fire,!1),s=f.evt,t=f.find,u=f.findAll,v=f.contains,w=f.create,x=f.remove,y=f.unique,z={bindContent:function(a){var b=a||document.body;s(b).on("change",["input["+i.model+"]","select["+i.model+"]"].join(","),C.model).on("input",["input["+i.model+"]","textarea["+i.model+"]"].join(","),C.model)},scan:function(a,c){if(c&&(r=c),b)return void l.push(a);b={},z.parseNode(a||document.body);var d;for(var e in b)d=o(e),b[e].forEach(function(a){a(d,d),r||p(e,a,k)});b=null,l.length&&z.scan(l.shift()),r=!1},parseNode:function(a){if(1===a.nodeType){var b=a.outerHTML;if(!g.test(b))return;if(A.list(a))return;if(A.attr(a,b),a.getAttribute(i.escape))return;[].forEach.call(a.childNodes,z.parseNode)}else if(3===a.nodeType){if(!a.textContent.trim().length||!g.test(a.textContent))return;C.text(a,a.textContent)}},addScanFunc:function(a,c){b[a]||(b[a]=[]),b[a].push(c)}},A={attr:function(a){[].forEach.call(a.attributes,function(b){g.test(b.value)&&C.attr(a,b.value,b.name)})},list:function(a){var b=a.getAttribute(i.list);if(null!==b)return b.indexOf(" in ")>=0&&(b=b.split(" in ")[1]),a.removeAttribute(i.list),C.list(a,b),!0}},B={deps:function(a,b){var c=[];return b.indexOf("[")>=1?[b.split("[")[0]]:(expressions=B.exps(a),expressions.forEach(function(a){d.parseDeps(a,c,function(a){return a.indexOf("[")>=1&&(a=a.split("[")[0]),"vm."===a.slice(0,3)?a.slice(2,-1):"."===a.slice(0,1)?b:b?b+"."+a:a})}),y(c))},exps:function(a){for(var b,c=[],d=new RegExp(g.source,"mg");b=d.exec(a);)c.push(b[1]);return c},text:function(a,b){var c,e,f=o(b);return(e=j.exec(b))&&(c={index:e[1],name:f}),a.replace(new RegExp(g.source,"mg"),function(a,b){return d(b,f,m,c)})},context:function(a){return a[i.bind]?a[i.bind]:a.getAttribute&&a.getAttribute(i.bind)?a.getAttribute(i.bind):a.parentNode?B.context(a.parentNode):""}},C={model:function(){var a,b=this.type,d=this.name,e=this.tagName.toLowerCase(),f=this.getAttribute(i.model),g=B.context(this),h="",j=this.form||document.body;if(this[i.bind]=g,f=c.parseProp(f,g),c.check(f)||new c(f),d&&"input"===e)switch(b){case"checkbox":a=u('[name="'+d+'"]:checked',j),h=[],a&&[].forEach.call(a,function(a){h.push(a.value)}),h=h.join(",");break;case"radio":a=t('[name="'+d+'"]:checked',j),h=a?a.value:"";break;default:h=this.value}else h=this.value;n(f,h)},list:function(a,b){var c=a.outerHTML,d=B.context(a);a[i.bind]=d,b=d?d+"."+b:b;var e=document.createComment("list for "+b),f=[];a.parentNode.replaceChild(e,a),z.addScanFunc(b,function(){if(e.parentNode){var a=o(b);if(a instanceof Array){var d=e.parentNode;[].forEach.call(f,function(a){x(a)}),a.forEach(function(a,g){var h=w(c);h[i.bind]=b+"["+g+"]",d.insertBefore(h,e),f.push(h),z.scan(h)})}}})},attr:function(a,b,c){var d,e=B.context(a),f=B.deps(b,e);switch(a[i.bind]=e,c){case"checked":var g=a.value;d="checkbox"===a.type?function(b){a.checked=(b||"").split(",").indexOf(g)>=0}:function(b){a.checked=b===g};break;case"selected":var g=a.value;d=function(b){a.selected=b===g};break;case"value":d=function(){a.value=B.text(b,e)};break;case"data-src":d=function(){a.src=B.text(b,e)};break;default:d=function(){a.setAttribute(c,B.text(b,e))}}f.forEach(function(a){z.addScanFunc(a,d)})},text:function(a,b){var c,d=B.context(a),e=B.deps(b,d);a[i.bind]=d;var f=a;c=function(e,g,h){return h&&!v(document.documentElement,a)?void q(h.nameNS,c,k):(e instanceof Node?f=C.element(f,e):g instanceof Node&&(f=C.element(f,a)),void(a.textContent=B.text(b,d)))},e.forEach(function(a){z.addScanFunc(a,c)})},element:function(a,b){return a.parentNode?(a.parentNode.replaceChild(b,a),c.scan(b),b):a}};c.scan=z.scan,c.bindContent=z.bindContent,window.document.addEventListener("DOMContentLoaded",function(){e.initDOM&&(z.bindContent(document.body),1!==e.initDOM&&z.scan(document.documentElement))})},{"./DataBind":3,"./Expression":5,"./config":8,"./kit":10}],5:[function(a,b){var c=a("./DataBind"),d=a("./kit"),e=a("./Filter"),f="$data",g="$self",h=d.log,i=(c.get,function(){return""}),j=";",k=e.list,l=function(a,b,c,d){return o(a)(b,c,d)},m=function(a){return"(typeof "+a+' === "undefined" ? "" : '+a+")"},n={},o=function(a){if("string"!=typeof a)return h("DataBind.expression",'expression "'+a+'" is not a function'),i;if(n[a])return n[a];var b,c;b=p(a,null,function(a){var b;return b="."===a.slice(0,1)?g+a:"vm."===a.slice(0,3)?a:f+"."+a,m(b)});try{return c=new Function(f,"vm",g,"return "+b),n[a]=c}catch(d){return h("DataBind.expression","expression error!"+a,d),i}},p=function(a,b,c){if(b||c){a=q(a).expression;var d,e=/(?=\b|\.)(?!\'|\")([\w|\.]+)(?!\'|\")\b/g;return d=a.replace(e,function(a,d){if(isNaN(d)){var e=c?c(d):d;return b&&b.push(e),e}return d})}},q=function(a){var b=a.split(/\|{1,1}/),c=b.shift(),d=/^\s*([\w\-]+)(?:\((.+)\))?/.exec(b.join("|"));return{expression:c.trim(),filterName:d&&d[1].trim(),filterArgs:d&&d[2]&&d[2].split(j)}},r=function(a,b,c,d){if("string"!=typeof a||!a.trim()||"#"===a[0])return"";var e=q(a);d=d||{},d.value=b;var f="";try{f=l(e.expression,b,c,d)}catch(g){h("DataBind.expression","getValue: fetch error, function body :\n"+n[e.expression],g)}if(e.filterName&&k.hasOwnProperty(e.filterName))try{f=k[e.filterName].apply(b,[f,d].concat(e.filterArgs))}catch(g){h("DataBind.expression","filter:"+e.filterName+' error, args: "'+e.filterArgs+'"',g)}return void 0===f&&(f=""),f};c.expression=r,c.expression.parseDeps=p,c.expression.register=e.register,c.expression.parserCache=n,b.exports=r},{"./DataBind":3,"./Filter":6,"./kit":10}],6:[function(a,b){var c={map:function(a,b,c,d){var e=JSON.parse(c);d||(a=[a]);var f=a.split(d);return f.map(function(a){return void 0===e[a]?"":e[a]}).join(d)},"text-overflow":function(a,b,c,d){return c=c||16,d=d||"...",a&&a.toString().length>c&&(a=a.slice(0,c)+d),a},display:function(a,b,c){return"display:"+(+a&&"false"!==a?c||'"";':"none;")}};b.exports={list:c,register:function(a,b){c[a]=b}}},{}],7:[function(a,b){var c={topic:{},check:function(a,b,d){var e=c.topic[a];return e&&e[b]?e[b]:d?(e||(e=c.topic[a]={}),e[b]||(e[b]=[]),e[b]):!1},fire:function(a,b,d){b=b||"change";var h=g(a);if(h){c._fireList=[],c._getFireProps(a,b),c._fireList=f(c._fireList);for(var i,j,k,l,m=0,n=c._fireList.length;n>m;m++)k=c._fireList[m],i=c.check(k,b),i&&(j=g(k),l=[j.value,j.oldValue,{type:b,object:h.parent,name:h.name,nameNS:h.nameNS,prop:j.name,propNS:j.nameNS}],l[2]=e(l[2],d),i.forEach(function(a){"function"==typeof a&&a.apply(j.parent,l)}));return c._fireList=null,this}},_fireList:null,_getFireProps:function(a,b){var d=g(a);d&&(c._fireList.push(a),(c.check(a,b)||[]).forEach(function(a){if("string"==typeof a){var b=g(a);b.oldValue=b.value,b.value=b.get(),c._getFireProps(a)}}),null!==d.parentNS&&d.propagation&&c._getFireProps(d.parentNS))},add:function(a,b,d){d=d||"change";var e=c.check(a,d,!0);return e.indexOf(b)<0&&e.push(b),b},remove:function(a,b,d){d=d||"change";var e,f=c.check(a,d);return f?(e=f.indexOf(b),e>=0&&f.splice(e,1),this):this}};b.exports=c;var d=a("./kit"),e=d.merge,f=d.unique,g=a("./Accessor")},{"./Accessor":1,"./kit":10}],8:[function(a,b){var c=a("./kit"),d={debug:1,name:"DataBind",mode:0,expHead:"{{",expFoot:"}}",DOMPrefix:"vm-",propagation:!0,propagationType:["change"],initDOM:!1,set:function(a){c.merge(d,a,!0)}};("_DataBindConfig"in window||"_config"in window)&&d.set(window._DataBindConfig||window._config),b.exports=d},{"./kit":10}],9:[function(a,b){var c=a("./config").name;c in window||(b.exports=window[c]=a("./DataBind").init(),a("./DomExtend"))},{"./DataBind":3,"./DomExtend":4,"./config":8}],10:[function(a,b){var c={};b.exports=c;var d=a("./config");c.objMerger=function(a,b){var c,d,e=!1;b[b.length-1]===!0&&(e=!0),c=e?b[0]:{};for(var f=+e,g=b.length-e;g>f;f++)if(d=b[f],"object"==typeof d)for(var h in a?d:b[0])b[f].hasOwnProperty(h)&&(c[h]=d[h]);return c},c.parse=function(){return c.objMerger(0,arguments)},c.merge=function(){return c.objMerger(1,arguments)},c.log=function(a,b,e){var f=e instanceof Error?"error":"mark"==e?"debug":"warn"==e?"warn":"info"==e?"info":"log",g="["+a+"]@ "+Date.now()+" : "+b+"\n"+("error"==f?"("+(e.stack||e.message)+")":"");return d.debug&&c.log.list.push(g),d.debug&&console&&console[f](g),g},c.log.list=[],c.isEmptyObject=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},c.find=function(a,b){return(b||document).querySelector(a)},c.findAll=function(a,b){return(b||document).querySelectorAll(a)},c.contains=function(a,b){return a==b?!0:!!(16&a.compareDocumentPosition(b))},c.create=function(a){if("<"===a.slice(0,1)){var b=document.createElement("<tr"===a.slice(0,3)?"tbody":"template");return b.innerHTML=a,b.content?b.content.firstChild:b.firstElementChild}return document.createElement(a)},c.unique=function(a){for(var b=a.length-1;b>=0;b--)for(var c=b-1;c>=0;c--)if(a[b]===a[c]){a.splice(b,1);break}return a},c.remove=function(a){a.parentNode&&a.parentNode.removeChild(a)},c.evt=function(a){return a._eventList=a._eventList||{},{on:function(b,d,e,f){if(d){var g=function(b){for(var f=b.target;f&&f!==a.parentNode;){if(c.match(f,d,a))return e.call(f,b),!0;f=f.parentNode}};a._eventList[d]=a._eventList[d]||[],a._eventList[d].push({cb:g,func:e}),a.addEventListener(b,g,f)}else a.addEventListener(b,e,f);return this},off:function(b,c,d,e){return a._eventList[c]&&a._eventList[c].some(function(c){return c.func===d?(a.removeEventListener(b,c.cb,e),!0):void 0}),this}}},c.match=function(a,b,c){return c=c||document,[].indexOf.call(c.querySelectorAll(b)||[],a)>=0}},{"./config":8}]},{},[9]);