!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){var c,d,e=a("./kit"),f={},g=e.parseProp,h=e.ArrayExtend,i=function(a,b){if("function"==typeof b){for(var c,e=b.toString().replace(/^\s*\/\*[\s\S]*?\*\/\s*$/gm,"").replace(/^\s*\/\/.*$/gm,"").replace(/(this|vm)\.[\w\.]+(\(|\s*\=)/gm,"").replace(/\bthis\b/g,"vm."+a.parentNS),f=/\bvm\.([\w|\.]+)\b/g,g=[];c=f.exec(e);)c[1]&&g.push(c[1]);a.deps=g,g.forEach(function(b){d.add(b,a.nameNS,"change")})}},j=function(a,b){if(j.check(a))return f[a].value=b,f[a];if(!(this instanceof j))return new j(a,b);var c=a.split("."),d=c.pop(),e=""===a,g=e?null:c.join("."),h=e?null:j.check(g),i=e?null:h.value;this.name=d,this.nameNS=a,this.parent=i,this.parentNS=g,this.parentAcc=h,this.deps=[],this.value=b,this.oldValue=b,this.dirty=!1,this.mode=0,this.context=this.mode?this:this.parent,this.children=[],this.propagation=!0,e||(h.children.push(this.nameNS),this.parent[this.name]=this.value),f[this.nameNS]=this};j.storage=f,j.check=function(a){return f.hasOwnProperty(a)?f[a]:void 0},j.parseProp=g,j.prototype.get=function(){return this.value},j.prototype.set=function(a,b,f){var g=this;if(Array.isArray(a)&&(a!==this.value&&(this.arrayChangeLock=!1),this.arrayChangeLock||("observe"in Object?Object.observe(a,function(){g.set(a,g.dirty,!0)}):(a.__proto__=h,a[h.bindMethodName]=function(b){g.set(a,g.dirty,!0,{method:b})})),this.arrayChangeLock=!0),this.value=a,this.value=this.get(),this.parent&&c.mode&&(this.parent[this.name]=a),b=this.dirty||b,b||(d.fire(this.nameNS,"set"),(f||a!==this.oldValue)&&d.fire(this.nameNS,"change")),this.oldValue=a,this.dirty=!1,e.isSimpleObject(a))for(var i in a)a.hasOwnProperty(i)&&(childAcc=j.check(this.parseProp(i)),childAcc&&childAcc.bindProp());return a},j.prototype.bindProp=function(){if(!this.mode&&e.isSimpleObject(this.parent)){var a=this.value,b=this;Object.defineProperty(this.parent,this.name,{set:function(a){return b.set(a)},get:function(){return b.get()}}),this.parent[this.name]=a}},j.prototype.parseProp=function(a){return g(this.nameNS,a)},j.prototype.setProp=function(a){return a.set&&(this.set=function(b,c,d){return b=a.set.call(this.context,b,this.value,d),this.__proto__.set.call(this,b,c,d),b}),a.get&&(i(this,a.get),this.get=function(){return a.get.call(this.parent,root)}),a.change&&d.add(this.nameNS,a.change,"change"),this},j.destroy=j.prototype.destroy=function(a){var b=this instanceof j?this:j.check(a);b&&(b.children.forEach(j.destroy),delete b.parent[b.name],delete j.storage[b.nameNS])},b.exports=j,c=a("./config"),d=a("./listener")},{"./config":3,"./kit":8,"./listener":9}],2:[function(a,b){b.exports=a("./factory"),window[a("./config").name]=b.exports},{"./config":3,"./factory":5}],3:[function(a,b){var c=a("./kit"),d={debug:1,name:"note",mode:0,descMark:"$",expHead:"{{",expFoot:"}}",rootVar:"vm",DOMPrefix:"nt-",checkNode:null,propagation:!0,propagationType:["change"],initDOM:!0,contextGlobal:window,set:function(a){c.merge(d,a,!0)}};"_config"in window&&d.set(window._config),b.exports=d},{"./kit":8}],4:[function(a,b){var c=(a("./config"),a("./accessor")),d=(a("./listener"),a("./factory.parser")),e={},f=a("./kit").parseProp,g=d.register,h=d.build,i=function(a,b){"string"!=typeof a&&(b=a,a="");var d=h(a,b);g(d,""),this.name=this._name=a;var f=c.check(a),i=f.value;return(null===i||void 0===i)&&(i={}),i.__proto__=Object.create(e,{_name:{value:a}}),i};b.exports=i;var j=["get","set","observe","unobserve","fire"];j.forEach(function(b){Object.defineProperty(e,b,{enumerable:!1,writable:!0,value:function(b){return function(){arguments[0]=f(this._name,arguments[0]),a("./factory")[b].apply(this,arguments)}}(b)})})},{"./accessor":1,"./config":3,"./factory":5,"./factory.parser":6,"./kit":8,"./listener":9}],5:[function(a,b){var c=a("./config"),d=a("./accessor"),e=a("./listener"),f=a("./factory.define"),g={};new d("",g);var h=function(a,b){return f(a,b)};b.exports=h,h.root=g,h.storage=d.storage,h.config=c.set,h.get=function(a){var b,c;return(b=/(.*)\[(\d+)\]$/.exec(a))&&(a=b[1],b=b[2]),c=d.check(a)?d.check(a).get():void 0,null!==b&&Array.isArray(c)?c[b]:c},h.set=function(a,b,c){return d.check(a)&&d.check(a).set(b,c),b},h.observe=e.add,h.unobserve=e.remove,h.fire=e.fire,h.destroy=d.destroy},{"./accessor":1,"./config":3,"./factory.define":4,"./listener":9}],6:[function(a,b){var c=a("./kit"),d=(a("./config"),a("./accessor")),e=c.isEmptyObject,f=c.isSimpleObject,g=(c.parseProp,["get","set","change","propagation","dirty","value"]),h={getDesc:function(a){var b,c={};return f(a)?(g.forEach(function(d){c[d]=a["$"+d],delete a["$"+d]&&(b=!0)}),void 0===c.value&&(c.value=b&&e(a)?void 0:a)):c.value=a,c},register:function(a,b){var c,e=h.getDesc(a),g=e.value;if(c=d.check(b)||new d(b,g),f(g))for(var i in g)g.hasOwnProperty(i)&&h.register(g[i],c.parseProp(i));c.setProp(e),c.bindProp()},build:function(a,b){var c,d=a.split("."),e=b;for(""===a&&(d.length=0,c=b);d.length;)c={},c[d.pop()]=e,e=c;return c}};b.exports=h},{"./accessor":1,"./config":3,"./kit":8}],7:[function(a){a("./base")},{"./base":2}],8:[function(a,b){var c={};b.exports=c;var d=a("./config");c.objMerger=function(a,b){var c,d,e=!1;b[b.length-1]===!0&&(e=!0),c=e?b[0]:{};for(var f=+e,g=b.length-e;g>f;f++)if(d=b[f],"object"==typeof d)for(var h in a?d:b[0])b[f].hasOwnProperty(h)&&(c[h]=d[h]);return c},c.parse=function(){return c.objMerger(0,arguments)},c.merge=function(){return c.objMerger(1,arguments)},c.parseProp=function(a,b){return"string"!=typeof a||""===a?b:"string"!=typeof b||""===b?a:a+"."+b},c.log=function(a,b,e){var f=e instanceof Error?"error":"mark"==e?"debug":"warn"==e?"warn":"info"==e?"info":"log",g="["+a+"]@ "+Date.now()+" : "+b+"\n"+("error"==f?"("+(e.stack||e.message)+")":"");return d.debug&&c.log.list.push(g),d.debug&&console&&console[f](g),g},c.log.list=[],c.isEmptyObject=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},c.isSimpleObject=function(a){return a&&"[object Object]"===a.toString()},c.find=function(a,b){return(b||document).querySelector(a)},c.findAll=function(a,b){return(b||document).querySelectorAll(a)},c.contains=function(a,b){return a==b?!0:!!(16&a.compareDocumentPosition(b))},c.create=function(a){if("<"===a.slice(0,1)){var b=document.createElement("<tr"===a.slice(0,3)?"tbody":"template");return b.innerHTML=a,b.content?b.content.firstChild:b.firstElementChild}return document.createElement(a)},c.unique=function(a){for(var b=a.length-1;b>=0;b--)for(var c=b-1;c>=0;c--)if(a[b]===a[c]){a.splice(b,1);break}return a},c.remove=function(a){a.parentNode&&a.parentNode.removeChild(a)},c.evt=function(a){return a._eventList=a._eventList||{},{on:function(b,d,e,f){if(d){var g=function(b){for(var f=b.target;f&&f!==a.parentNode;){if(c.match(f,d,a))return e.call(f,b),!0;f=f.parentNode}};a._eventList[d]=a._eventList[d]||[],a._eventList[d].push({cb:g,func:e}),a.addEventListener(b,g,f)}else a.addEventListener(b,e,f);return this},off:function(b,c,d,e){return a._eventList[c]&&a._eventList[c].some(function(c){return c.func===d?(a.removeEventListener(b,c.cb,e),!0):void 0}),this}}},c.match=function(a,b,c){return c=c||document,[].indexOf.call(c.querySelectorAll(b)||[],a)>=0},c.ArrayExtend=function(){var a={},b=Array.prototype,c="arrayExtOb",d="pop, push, shift, unshift, reverse, sort, splice".split(", ");Object.defineProperty(a,c,{writable:!0,enumerable:!1}),d.forEach(function(d){a[d]=function(){var a=[].map.call(arguments,function(a){return a});b[d].apply(this,a),this[c](d)}}),a.bindMethodName=c,a.__proto__=b}()},{"./config":3}],9:[function(a,b){var c=a("./kit"),d=c.merge,e=c.unique,f={topic:{},check:function(a,b,c){var d=f.topic[a];return d&&d[b]?d[b]:c?(d||(d=f.topic[a]={}),d[b]||(d[b]=[]),d[b]):!1},fire:function(a,b,c){b=b||"change";var h=g.check(a);if(h){f._fireList=[],f._getFireProps(a,b),f._fireList=e(f._fireList);var i,j,k;return f._fireList.forEach(function(a){if(i=f.check(a,b)){j=g.check(a),k=[j.value,j.oldValue,{type:b,object:h.parent,name:h.name,nameNS:h.nameNS,prop:j.name,propNS:j.nameNS}],k[2]=d(k[2],c);for(var e=i.length-1;e>=0;e--){if("function"!=typeof i[e])return;i[e].apply(j.context,k)}}}),f._fireList=null,this}},_fireList:null,_getFireProps:function(a,b){var c=g.check(a);c&&(f._fireList.push(a),(f.check(a,b)||[]).forEach(function(a){if("string"==typeof a){var b=g.check(a);b.oldValue=b.value,b.value=b.get(),f._getFireProps(a)}}),null!==c.parentNS&&c.propagation&&f._getFireProps(c.parentNS))},add:function(a,b,c){c=c||"change";var d=f.check(a,c,!0);return d.indexOf(b)<0&&d.push(b),b},remove:function(a,b,c){c=c||"change";var d,e=f.check(a,c);return e?(d=e.indexOf(b),d>=0&&e.splice(d,1),this):this}};b.exports=f;var g=a("./accessor")},{"./accessor":1,"./kit":8}]},{},[7]);
//# sourceMappingURL=note.min.js.map